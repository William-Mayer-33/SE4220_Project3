<!-- templates/gallery.html -->
{% extends "base.html" %}
{% block content %}
<h2>Your Photo Gallery</h2>
<hr>
<div class="row">
  {% for photo in photos %}
    <div class="col-md-3 text-center mb-4">
      <!-- Display the photo -->
      <img
        src="{{ url_for('static', filename='uploads/' ~ photo.filename) }}"
        class="img-thumbnail"
        alt="{{ photo.title }}"
        style="max-width: 100%; max-height: 200px;"
      >
      <p><strong>{{ photo.title }}</strong></p>

      <!-- Upload time if you want -->
      <p class="text-muted">
        Uploaded: {{ photo.upload_time }}
      </p>

      <!-- Actions: Download, Edit, Delete -->
      <div>
        <a href="{{ url_for('download', photo_id=photo.id) }}" class="btn btn-sm btn-outline-primary">
          Download
        </a>
        <a href="{{ url_for('edit_photo', photo_id=photo.id) }}" class="btn btn-sm btn-outline-secondary">
          Edit
        </a>
        <a href="{{ url_for('delete_photo', photo_id=photo.id) }}" class="btn btn-sm btn-outline-danger"
           onclick="return confirm('Are you sure you want to delete this photo?');">
          Delete
        </a>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}
